### 如何进行架构设计

1. 依据

   - 用户需求
   - 团队配置
   - 技术成熟度

2. 用户需求

   - 可登录的增删改查

3. 团队配置

   - 会前后端的全栈工程师

4. 技术成熟度

   - 假设只会 Rails + Vue/React

### 表设计

- user/records/tags 表
- taggings 表, 表示 records 和 tags 的关联
- password_reset_request 记录所有重置请求

- 表属性不一定一次ok , 命名一定准确


### users 表

从需求出发

1. 注册: 邮箱, 密码, 确认密码
2. 数据库不需要存密码, 存的是密码的密文
3. 如何加密: rails => has_secure_password
4. 密文叫什么: rails => password_digest


结论

- users 表含有 email 和 password_digest


### rails 项目里创建表

- `bin/rails -T` 查看命令

```rb
bin/rails g model User email:string # 创建 users 表

bin/rails db:migrate # 迁移

bin/rails g controller users # 创建 controller
```

- 常用命令

```rb
bin/rails console # rails 控制台

bin/rails routes # 查看所有路由
```

### 使用 docker 命令行查看数据库

```
docker ps

docker exec -it dockerId bash

psql -U yym

\c xdml_record_money_rails_development  连接数据库
\dt 看表
```